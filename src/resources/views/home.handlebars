<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" style="background: black;">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner" style=" height: 25.6rem;">
    <div class="carousel-item active">
      <img class="d-block w-100" src="img/note/banner1.png" alt="First slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="img/note/banner2.png" alt="Second slide">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="img/note/banner3.png" alt="Third slide">
    </div>

    {{!-- https://www.behance.net/gallery/149524015/Anime-Headers-2/modules/846228121 --}}
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<div class="container">
  <div class="mt-1">
    <ul class="nav nav-pills nav-justified">
      <li class="nav-item">
        <a class="nav-link active kind-movie" href="#">Now Showing</a>
      </li>
      <li class="nav-item">
        <a class="nav-link kind-movie" href="#">Special</a>
      </li>
      <li class="nav-item">
        <a class="nav-link kind-movie" href="#">Coming Soon</a>
      </li>
      {{!-- <li class="nav-item">
        <a class="nav-link disabled" href="#">Disabled</a>
      </li> --}}
    </ul>
  </div>
  <hr class="hr" />
</div>

<div class="mt-4">
  <div class="row">
    {{#each movies}}
    <div class="col-lg-3 col-sm-4">
      <div class="card mt-4">
        <a href="/movies/{{this.slug}}" class="">
          <img style="height: 16.5rem;" class="card-img-top home-img-movie" src="{{this.image}}" alt="{{this.name}}">
        </a>
        <div class="card-body">
          <a href="/movies/{{this.slug}}" class="">
            <h5 class="card-title mt-2">{{this.name}}</h5>
          </a>
          <p class="card-text"> <strong>Genre: </strong>{{this.genre}}</p>
          <p class="card-text"><strong>Running Time: </strong>{{this.runtime}} minutes</p>
          <p class="card-text"><strong>Release Date: </strong>{{dateFormat this.released 'en-US'}}</p>
          <span class="label-note badge">{{this.note}}</span>
          <div class="d-flex mt-2">
            <a href='/booking/choose-cinema?name={{this.name}}' class="btn btn-primary booking-btn">Booking</a>
            <button class="like-button">
              <span data-component="text">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"
                  style="display: inline-block; vertical-align: text-bottom;">
                  <path
                    d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z">
                  </path>
                </svg>
                <span class="">like</span>
                <span class="likeCount">0</span>
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</div>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    var btnsKindMovie = $('.kind-movie');
    var labelNote = $('.label-note');

    // tô màu cho các nhãn note
    for (let i = 0; i < labelNote.length; i++) {
      switch (labelNote[i].outerText) {
        case 'c 13': labelNote[i].classList.add('badge-warning'); break;
        case 'c 16': labelNote[i].classList.add('badge-orange'); break;
        case 'c 18': labelNote[i].classList.add('badge-danger'); break;
        default: labelNote[i].classList.add('badge-success'); break;
      }
    }

    // toggle btn like - sự kiện nổi bọt
    $(".like-button").on("click", function () {
      // Lấy nội dung của thẻ cha và in ra console
      this.classList.toggle('active');
    });

    // handle active btn kind moive
    btnsKindMovie.click(function (e) {
      var btnKindMovieActive = $('.active');
      btnKindMovieActive.removeClass('active');
      e.target.classList.add('active');
    })
  });

</script>